<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Admin view users</title>
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    </head>
    <body >
        <h1>This file is in the wrong folder</h1>
        <p>All .html files the server uses needs to be in /server/templates</p>
        <p>All files have been refactored to use python flask functions, while keeping all posible code</p>
        <div class="container">
            <div id="currListings">
                <h1 ><a class="home text-primary d-flex justify-content-center" href="adminview.html">Products</a></h1>
                
                <h2 class="text-primary d-flex justify-content-center">Users</h2>
                <table class="table  table-dark table-striped">
                    <thead>
                        <tr>
                            <th scope="col">User ID</th>
                            <th scope="col">Email</th>
                            <th scope="col">Password</th>
                            <th scope="col">Mobile Number</th>
                            <th scope="col">Date Of Birth</th>
                            <th scope="col">City</th>
                            <th scope="col">Country</th>
                            <th scope="col">Logged In Status</th>
                            <th scope="col">Name</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">1</th>  <!-- User_ID -->
                            <td>linuspernius@hotmail.com</td>          <!-- Email -->
                            <td>Hejsan123</td>          <!-- Password -->
                            <td>0725384156</td>            <!-- Mobile_Number -->
                            <td>19980430</td>            <!-- Date_of_Birth -->
                            <td>Kalmar</td>            <!-- City -->
                            <td>Sweden</td>            <!-- Country -->
                            <td>0</td>                        <!-- Logged_in_Status -->
                            <td>Linus Pernius</td>            <!-- Name -->
                            <td>
                                <!-- Call to action buttons -->
                                <ul class="">
                                    <li class="list-inline-item">
                                        <button class="btn btn-success btn-sm rounded-0" type="button" data-toggle="tooltip" data-placement="top" title="Edit"><i class="fa fa-edit"></i>Edit</button>
                                    </li>
                                    <li class="list-inline-item">
                                        <button class="btn btn-danger btn-sm rounded-0" type="button" data-toggle="tooltip" data-placement="top" title="Delete"><i class="fa fa-trash">Delete</i></button>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button type="button" id="newProduct" class="btn btn-primary">Add User</button>
        </div>
        <script >window.addEventListener('load', ()=>{
            console.log('Page Loaded')
            let Table = document.querySelector('table')
            let allDeleteButtons = document.querySelectorAll('.btn-danger')
            let createButton = document.querySelector('#createButton')
            let name = document.querySelector('#name')
            let price = document.querySelector('#price')
            let store = document.querySelector('#store')
            for (let index = 0; index < allDeleteButtons.length; index++) {
                allDeleteButtons[index].addEventListener('click', (e)=>{
                    console.log('Delete product')
                    allDeleteButtons[index].closest('tr').remove()
                })
                
            }
            createButton.addEventListener('click', ()=>{
        
                console.log('Creating new Product')
                event.preventDefault()
                console.log('Name ' + name.value + ' Price ' + price.value + ' Store' + store.value)
                createNewRow(name.value,price.value,store.value)
                name.value = ''
                price.value = ''
                store.value = ''
                
            })
        
            function createNewRow(name, price, store){
                var row = Table.insertRow()
                var cell = row.insertCell()
                cell.innerHTML = name
                var cell = row.insertCell()
                cell.innerHTML = price
                var cell = row.insertCell()
                cell.innerHTML = store
                var cell = row.insertCell()
        
                const newUl = document.createElement('ul')
                newUl.setAttribute('class', '')
                cell.appendChild(newUl)
        
                const newEditLi = document.createElement('li')
                newUl.appendChild(newEditLi)
                newEditLi.setAttribute('class', 'list-inline-item')
                const newEditButton = document.createElement('button')
                newEditLi.appendChild(newEditButton)
                newEditButton.setAttribute('class', 'btn btn-success btn-sm rounded-0')
                newEditButton.setAttribute('type', 'button')
                newEditButton.setAttribute('data-toggle','tooltip')
                newEditButton.setAttribute('data-placement', 'top')
                newEditButton.setAttribute('title', 'edit')
                newEditButton.textContent = 'Edit'
        
                const newDeleteLi = document.createElement('li')
                newUl.appendChild(newDeleteLi);
                newDeleteLi.setAttribute('class', 'list-inline-item')
                const newDeleteButton = document.createElement('button')
                newDeleteLi.appendChild(newDeleteButton)
                newDeleteButton.setAttribute('class', 'btn btn-danger btn-sm rounded-0')
                newDeleteButton.setAttribute('type', 'button')
                newDeleteButton.setAttribute('data-toggle','tooltip')
                newDeleteButton.setAttribute('data-placement', 'top')
                newDeleteButton.setAttribute('title', 'edit')
                newDeleteButton.textContent = 'Delete'
                newDeleteButton.addEventListener('click',()=>{
                    newDeleteButton.closest('tr').remove()
                })
            }
        })</script>
    </body>
</html>
